import{r as e}from"./rolldown-runtime-BJDU5wuE.js";import{t}from"./react-CchQLuKp.js";import{t as n}from"./preload-helper-BL0k6OM_.js";import{n as r,t as i}from"./dist-Bj0BFr57.js";var a=e(t()),o=class extends i(r){static shadowRootOptions={...r.shadowRootOptions};static getTemplateHTML=e=>{let{src:t,...n}=e;return r.getTemplateHTML(n)};#apiInit;attributeChangedCallback(e,t,n){e!==`src`&&super.attributeChangedCallback(e,t,n),e===`src`&&t!=n&&this.load()}async load(){if(this.#apiInit){this.api.attachSource(this.src);return}this.#apiInit=!0;let e=await n(()=>import(`./dash.all.min-De0XtufK.js`),[]);this.api=e.MediaPlayer().create(),this.api.initialize(this.nativeEl,this.src,this.autoplay),this.api.on(e.MediaPlayer.events.STREAM_INITIALIZED,()=>{let e=this.api.getRepresentationsByType(`video`),t=this.videoTracks.getTrackById(`main`);t||(t=this.addVideoTrack(`main`),t.id=`main`,t.selected=!0),e.forEach(e=>{let n=e.bandwidth??e.bitrate??(Number.isFinite(e.bitrateInKbit)?e.bitrateInKbit*1e3:void 0),r=t.addRendition(e.id,e.width,e.height,e.mimeType??e.codec,n);r.id=e.id}),this.videoRenditions.addEventListener(`change`,()=>{let e=this.videoRenditions[this.videoRenditions.selectedIndex];e?.id?(this.api.updateSettings({streaming:{abr:{autoSwitchBitrate:{video:!1}}}}),this.api.setRepresentationForTypeById(`video`,e.id,!0)):this.api.updateSettings({streaming:{abr:{autoSwitchBitrate:{video:!0}}}})})})}};globalThis.customElements&&!globalThis.customElements.get(`dash-video`)&&globalThis.customElements.define(`dash-video`,o);var s=o,c=new Set([`style`,`children`,`ref`,`key`,`suppressContentEditableWarning`,`suppressHydrationWarning`,`dangerouslySetInnerHTML`]),l={className:`class`,htmlFor:`for`};function u(e){return e.toLowerCase()}function d(e){if(typeof e==`boolean`)return e?``:void 0;if(typeof e!=`function`&&!(typeof e==`object`&&e))return e}function f({react:e,tagName:t,elementClass:n,events:r,displayName:i,defaultProps:a,toAttributeName:o=u,toAttributeValue:s=d}){let f=Number.parseInt(e.version)>=19,m=e.forwardRef((i,u)=>{let m=e.useRef(null),h=e.useRef(new Map),g={},_={},v={},y={};for(let[e,t]of Object.entries(i)){if(c.has(e)){v[e]=t;continue}let r=o(l[e]??e);if(n.prototype&&e in n.prototype&&!(e in(globalThis.HTMLElement?.prototype??{}))&&!n.observedAttributes?.some(e=>e===r)){y[e]=t;continue}if(e.startsWith(`on`)){g[e]=t;continue}let i=s(t);r&&i!=null&&(_[r]=String(i),f||(v[r]=i)),r&&f&&(i===d(t)?v[r]=t:v[r]=i)}if(typeof window<`u`){for(let t in g){let n=g[t],i=t.endsWith(`Capture`),a=(r?.[t]??t.slice(2).toLowerCase()).slice(0,i?-7:void 0);e.useLayoutEffect(()=>{let e=m?.current;if(!(!e||typeof n!=`function`))return e.addEventListener(a,n,i),()=>{e.removeEventListener(a,n,i)}},[m?.current,n])}e.useLayoutEffect(()=>{if(m.current===null)return;let e=new Map;for(let t in y)p(m.current,t,y[t]),h.current.delete(t),e.set(t,y[t]);for(let[e,t]of h.current)p(m.current,e,void 0);h.current=e})}if(typeof window>`u`&&n?.getTemplateHTML&&n?.shadowRootOptions){let{mode:t,delegatesFocus:r}=n.shadowRootOptions;v.children=[e.createElement(`template`,{shadowrootmode:t,shadowrootdelegatesfocus:r,dangerouslySetInnerHTML:{__html:n.getTemplateHTML(_,i)}}),v.children]}return e.createElement(t,{...a,...v,ref:e.useCallback(e=>{m.current=e,typeof u==`function`?u(e):u!==null&&(u.current=e)},[u])})});return m.displayName=i??n.name,m}function p(e,t,n){e[t]=n,n==null&&t in(globalThis.HTMLElement?.prototype??{})&&e.removeAttribute(t)}var m=f({react:a.default,tagName:`dash-video`,elementClass:s,toAttributeName(e){return e===`muted`?``:e===`defaultMuted`?`muted`:u(e)}});
/*! Bundled license information:

ce-la-react/dist/ce-la-react.js:
(**
* @license
* Copyright 2018 Google LLC
* SPDX-License-Identifier: BSD-3-Clause
*
* Modified version of `@lit/react` for vanilla custom elements with support for SSR.
*)
*/
export{m as default};